<%
  # Spillover Actions Partial
  # 
  # Required locals:
  # - sprint: The sprint object
  # - project: The project object  
  # - next_sprint: The next sprint object
  # - incomplete_count: Count of incomplete tasks
  # - button_style: 'inline' or 'section'
  # - modal_function: JavaScript function name for modal
%>

<% if button_style == 'section' %>
  <div class="spillover-actions">
    <%= link_to spillover_to_next_project_sprint_path(project, sprint),
        method: :post,
        class: 'btn spillover-btn',
        confirm: "Move all #{incomplete_count} incomplete #{incomplete_count == 1 ? 'task' : 'tasks'} to #{next_sprint.name}?",
        title: "Move all incomplete tasks to next sprint" do %>
      <svg class="spillover-icon" aria-hidden="true" width="12" height="12" viewBox="0 0 24 24" fill="currentColor">
        <path d="M7.5 5.6L10 7 8.6 8.4 5 4.8 8.6 1.2 10 2.6 7.5 4H16c.6 0 1 .4 1 1v4h-2V6H7.5zM16.5 18.4L14 17l1.4-1.4L19 19.2l-3.6 3.6L14 21.4l2.5-1.4H8c-.6 0-1-.4-1-1v-4h2v2h7.5z"/>
      </svg>
      Move All to <%= next_sprint.name %>
    <% end %>
    <button type="button" class="btn spillover-selective-btn" 
            onclick="<%= modal_function %>()" 
            title="Select specific tasks to move">
      <svg class="spillover-icon" aria-hidden="true" width="12" height="12" viewBox="0 0 24 24" fill="currentColor">
        <path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"/>
      </svg>
      Select Tasks
    </button>
  </div>
<% else %>
  <!-- Inline style buttons -->
  <%= link_to spillover_to_next_project_sprint_path(project, sprint),
      method: :post,
      class: 'spillover-btn',
      confirm: "Move all #{incomplete_count} incomplete #{incomplete_count == 1 ? 'task' : 'tasks'} to #{next_sprint.name}?",
      title: "Move incomplete tasks to next sprint" do %>
    <svg class="spillover-icon" aria-hidden="true" width="12" height="12" viewBox="0 0 24 24" fill="currentColor">
      <path d="M7.5 5.6L10 7 8.6 8.4 5 4.8 8.6 1.2 10 2.6 7.5 4H16c.6 0 1 .4 1 1v4h-2V6H7.5zM16.5 18.4L14 17l1.4-1.4L19 19.2l-3.6 3.6L14 21.4l2.5-1.4H8c-.6 0-1-.4-1-1v-4h2v2h7.5z"/>
    </svg>
    Move to <%= next_sprint.name %>
  <% end %>
  <button type="button" class="spillover-selective-btn"
          onclick="<%= modal_function %>()"
          title="Select specific tasks to move">
    <svg class="spillover-icon" aria-hidden="true" width="12" height="12" viewBox="0 0 24 24" fill="currentColor">
      <path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"/>
    </svg>
    Select Tasks
  </button>
<% end %>